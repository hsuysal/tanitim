<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MAKÜ Tercih Robotu 2025</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Inter', sans-serif; }
        .gradient-bg { background: linear-gradient(135deg, #1e3a8a 0%, #3b82f6 100%); }
        .custom-scrollbar::-webkit-scrollbar { height: 8px; width: 8px; }
        .custom-scrollbar::-webkit-scrollbar-track { background: #f1f1f1; }
        .custom-scrollbar::-webkit-scrollbar-thumb { background: #c1c1c1; border-radius: 4px; }
        .custom-scrollbar::-webkit-scrollbar-thumb:hover { background: #a8a8a8; }
    </style>
</head>
<body class="bg-gray-50 text-gray-800 min-h-screen flex flex-col">

    <!-- Header -->
    <header class="gradient-bg text-white shadow-lg z-10">
        <div class="container mx-auto px-4 py-6">
            <div class="flex flex-col md:flex-row justify-between items-center gap-4">
                <div class="flex items-center gap-3">
                    <div class="bg-white p-2 rounded-full text-blue-900 shadow-lg">
                        <i class="fa-solid fa-graduation-cap text-2xl"></i>
                    </div>
                    <div>
                        <h1 class="text-2xl font-bold tracking-tight">MAKÜ Tercih Robotu</h1>
                        <p class="text-blue-100 text-sm font-light">2025 YKS & YÖK Atlas Verileri</p>
                    </div>
                </div>
                <div class="text-right hidden md:block">
                    <p class="text-sm font-medium opacity-90">Burdur Mehmet Akif Ersoy Üniversitesi</p>
                    <p class="text-xs text-blue-200">Resmi Veri Analizi</p>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="flex-grow container mx-auto px-4 py-8">
        
        <div class="grid grid-cols-1 lg:grid-cols-4 gap-6">
            
            <!-- Sidebar / Filters -->
            <div class="lg:col-span-1 space-y-6">
                <div class="bg-white p-6 rounded-xl shadow-md border border-gray-100 sticky top-4">
                    <h2 class="text-lg font-semibold mb-4 text-gray-700 border-b pb-2 flex items-center">
                        <i class="fa-solid fa-filter mr-2 text-blue-600"></i>Filtreler
                    </h2>

                    <!-- Puan Türü Seçimi -->
                    <div class="mb-4">
                        <label class="block text-sm font-medium text-gray-700 mb-1">Puan Türü</label>
                        <select id="scoreTypeFilter" class="w-full p-2.5 bg-gray-50 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition text-sm">
                            <option value="Tümü">Tümü</option>
                            <option value="SAY">SAY (Sayısal)</option>
                            <option value="EA">EA (Eşit Ağırlık)</option>
                            <option value="SÖZ">SÖZ (Sözel)</option>
                            <option value="DİL">DİL (Yabancı Dil)</option>
                            <option value="TYT">TYT (Ön Lisans)</option>
                        </select>
                    </div>

                    <!-- Sıralama Girişi -->
                    <div class="mb-4">
                        <label class="block text-sm font-medium text-gray-700 mb-1">Sıralamanız (Örn: 150000)</label>
                        <div class="relative">
                            <input type="number" id="userRank" placeholder="Sıralama giriniz..." class="w-full p-2.5 pl-9 bg-gray-50 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none transition text-sm">
                            <i class="fa-solid fa-hashtag absolute left-3 top-3 text-gray-400"></i>
                        </div>
                        <p class="text-xs text-gray-500 mt-1 flex items-center">
                            <i class="fa-solid fa-circle-info mr-1"></i> Kazanma ihtimali için giriniz.
                        </p>
                    </div>

                    <!-- Bölüm Arama -->
                    <div class="mb-6">
                        <label class="block text-sm font-medium text-gray-700 mb-1">Bölüm Ara</label>
                        <div class="relative">
                            <input type="text" id="searchInput" placeholder="Bölüm veya Fakülte..." class="w-full p-2.5 pl-9 bg-gray-50 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 outline-none transition text-sm">
                            <i class="fa-solid fa-search absolute left-3 top-3 text-gray-400"></i>
                        </div>
                    </div>

                    <button onclick="resetFilters()" class="w-full py-2.5 px-4 bg-gray-100 hover:bg-gray-200 text-gray-600 hover:text-gray-800 rounded-lg transition font-medium text-sm flex items-center justify-center gap-2">
                        <i class="fa-solid fa-rotate-right"></i>Filtreleri Temizle
                    </button>
                </div>
            </div>

            <!-- Results -->
            <div class="lg:col-span-3">
                <!-- Stats Bar -->
                <div class="bg-white p-4 rounded-xl shadow-sm border border-gray-100 mb-4 flex flex-col sm:flex-row justify-between items-center gap-2">
                    <div class="flex items-center">
                        <div class="bg-blue-50 text-blue-600 rounded-lg p-2 mr-3">
                            <i class="fa-solid fa-list-ul"></i>
                        </div>
                        <div>
                            <span class="text-gray-500 text-sm block">Listelenen Program</span>
                            <span id="resultCount" class="text-gray-800 font-bold text-xl">0</span>
                        </div>
                    </div>
                    <div class="flex gap-2 text-xs">
                         <span class="px-2 py-1 rounded bg-green-50 text-green-700 border border-green-100">Yüksek İhtimal</span>
                         <span class="px-2 py-1 rounded bg-yellow-50 text-yellow-700 border border-yellow-100">Normal</span>
                         <span class="px-2 py-1 rounded bg-red-50 text-red-700 border border-red-100">Düşük</span>
                    </div>
                </div>

                <!-- Table Container -->
                <div class="bg-white rounded-xl shadow-md border border-gray-100 overflow-hidden">
                    <div class="overflow-x-auto custom-scrollbar">
                        <table class="w-full text-left border-collapse">
                            <thead>
                                <tr class="bg-gray-50 text-gray-600 text-xs uppercase tracking-wider border-b">
                                    <th class="p-4 font-bold">Bölüm / Fakülte-MYO</th>
                                    <th class="p-4 font-bold w-20">Tür</th>
                                    <th class="p-4 font-bold w-28">Taban Puan</th>
                                    <th class="p-4 font-bold w-32">Başarı Sırası</th>
                                    <th class="p-4 font-bold w-32 text-center">Durum</th>
                                </tr>
                            </thead>
                            <tbody id="tableBody" class="text-gray-700 text-sm divide-y divide-gray-100">
                                <!-- JS will populate this -->
                            </tbody>
                        </table>
                    </div>
                    <!-- Empty State -->
                    <div id="emptyState" class="hidden p-12 text-center">
                        <div class="inline-flex items-center justify-center w-16 h-16 rounded-full bg-gray-50 text-gray-300 mb-4">
                            <i class="fa-solid fa-magnifying-glass text-3xl"></i>
                        </div>
                        <h3 class="text-lg font-medium text-gray-900">Sonuç Bulunamadı</h3>
                        <p class="text-gray-500 mt-1">Arama kriterlerinizi değiştirerek tekrar deneyin.</p>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <footer class="bg-white border-t mt-8 py-8">
        <div class="container mx-auto px-4 text-center">
            <p class="text-gray-500 text-sm font-medium">&copy; 2025 MAKÜ Tercih Robotu</p>
            <p class="text-xs text-gray-400 mt-2">Bu uygulama bilgilendirme amaçlıdır. Kesin sonuçlar için ÖSYM kılavuzunu inceleyiniz.</p>
        </div>
    </footer>

    <!-- Script -->
    <script>
        // Data parsed from user input
        const universityData = [
            // SAY Data
            { name: "Diş Hekimliği", faculty: "Diş Hekimliği Fakültesi", type: "SAY", score: 462.96, rank: 34800 },
            { name: "Veteriner", faculty: "Veteriner Fakültesi", type: "SAY", score: 391.74, rank: 109200 },
            { name: "Bilgisayar Mühendisliği", faculty: "Mühendislik-Mimarlık Fakültesi", type: "SAY", score: 358.56, rank: 158300 },
            { name: "Hemşirelik", faculty: "Sağlık Bilimleri Fakültesi", type: "SAY", score: 358.43, rank: 158600 },
            { name: "Hemşirelik", faculty: "Bucak Sağlık Yüksekokulu", type: "SAY", score: 348.40, rank: 177400 },
            { name: "Yazılım Mühendisliği", faculty: "Bucak Bilgisayar ve Bilişim Fakültesi", type: "SAY", score: 345.66, rank: 182800 },
            { name: "Endüstri Mühendisliği", faculty: "Mühendislik-Mimarlık Fakültesi", type: "SAY", score: 341.39, rank: 191400 },
            { name: "Ebelik", faculty: "Bucak Sağlık Yüksekokulu", type: "SAY", score: 336.05, rank: 203400 },
            { name: "Makine Mühendisliği", faculty: "Mühendislik-Mimarlık Fakültesi", type: "SAY", score: 332.59, rank: 211500 },
            { name: "Elektrik-Elektronik Mühendisliği", faculty: "Mühendislik-Mimarlık Fakültesi", type: "SAY", score: 332.46, rank: 211800 },
            { name: "Mimarlık", faculty: "Mühendislik-Mimarlık Fakültesi", type: "SAY", score: 323.43, rank: 234800 },
            { name: "Bilişim Sistemleri Mühendisliği", faculty: "Bucak Bilgisayar ve Bilişim Fakültesi", type: "SAY", score: 312.09, rank: 267500 },
            { name: "Beslenme ve Diyetetik", faculty: "Sağlık Bilimleri Fakültesi", type: "SAY", score: 306.40, rank: 286100 },
            { name: "Fizyoterapi ve Rehabilitasyon", faculty: "Sağlık Bilimleri Fakültesi", type: "SAY", score: 305.20, rank: 290200 },
            { name: "İlköğretim Matematik Öğretmenliği", faculty: "Eğitim Fakültesi", type: "SAY", score: 304.82, rank: 291600 },
            { name: "Veri Bilimi ve Analitiği", faculty: "Fen-Edebiyat Fakültesi", type: "SAY", score: 297.27, rank: 318900 },
            { name: "Matematik", faculty: "Fen-Edebiyat Fakültesi", type: "SAY", score: 293.09, rank: 335400 },
            { name: "Bilişim Sistemleri ve Teknolojileri", faculty: "Bucak Zeliha Tolunay Uygulamalı Teknoloji ve İşletmecilik Yüksekokulu", type: "SAY", score: 290.17, rank: 347600 },
            { name: "Kimya", faculty: "Fen-Edebiyat Fakültesi", type: "SAY", score: 284.27, rank: 374100 },
            { name: "Bilişim Sistemleri ve Teknolojileri", faculty: "Gölhisar Uygulamalı Bilimler Yüksekokulu", type: "SAY", score: 284.24, rank: 374300 },
            { name: "Moleküler Biyoloji ve Genetik", faculty: "Fen-Edebiyat Fakültesi", type: "SAY", score: 283.51, rank: 377700 },
            { name: "Gerontoloji", faculty: "Sağlık Bilimleri Fakültesi", type: "SAY", score: 280.82, rank: 390400 },
            { name: "Biyoloji", faculty: "Fen-Edebiyat Fakültesi", type: "SAY", score: 266.94, rank: 468800 },
            { name: "Nanobilim ve Nanoteknoloji", faculty: "Fen-Edebiyat Fakültesi", type: "SAY", score: 266.44, rank: 471900 },
            { name: "Acil Yardım ve Afet Yönetimi", faculty: "Sağlık Bilimleri Fakültesi", type: "SAY", score: 262.98, rank: 494800 },
            { name: "Peyzaj Mimarlığı", faculty: "Mühendislik-Mimarlık Fakültesi", type: "SAY", score: 258.92, rank: 523800 },
            { name: "Acil Yardım ve Afet Yönetimi", faculty: "Bucak Sağlık Yüksekokulu", type: "SAY", score: 254.26, rank: 560200 },
            { name: "Hassas Tarım ve Tarımsal Robotlar", faculty: "Fen-Edebiyat Fakültesi", type: "SAY", score: 247.83, rank: 616200 },
            { name: "Fen Bilgisi Öğretmenliği", faculty: "Eğitim Fakültesi", type: "SAY", score: 0, rank: 9999999, note: "Dolmadı" },
            { name: "Nanobilim ve Nanoteknoloji (KKTC Uyruklu)", faculty: "Fen-Edebiyat Fakültesi", type: "SAY", score: 0, rank: 9999999, note: "Dolmadı" },
            
            // EA Data
            { name: "Sınıf Öğretmenliği", faculty: "Eğitim Fakültesi", type: "EA", score: 353.90, rank: 114400 },
            { name: "Rehberlik ve Psikolojik Danışmanlık", faculty: "Eğitim Fakültesi", type: "EA", score: 339.81, rank: 156800 },
            { name: "Yönetim Bilişim Sistemleri", faculty: "Bucak Zeliha Tolunay Uygulamalı Teknoloji ve İşletmecilik Yüksekokulu", type: "EA", score: 324.36, rank: 216500 },
            { name: "Çocuk Gelişimi", faculty: "Bucak Sağlık Yüksekokulu", type: "EA", score: 301.36, rank: 339200 },
            { name: "Sosyal Hizmet", faculty: "İktisadi ve İdari Bilimler Fakültesi", type: "EA", score: 286.23, rank: 448400 },
            { name: "Sağlık Yönetimi", faculty: "İktisadi ve İdari Bilimler Fakültesi", type: "EA", score: 271.62, rank: 576900 },
            { name: "İşletme", faculty: "İktisadi ve İdari Bilimler Fakültesi", type: "EA", score: 270.29, rank: 589800 },
            { name: "Maliye", faculty: "İktisadi ve İdari Bilimler Fakültesi", type: "EA", score: 269.64, rank: 596200 },
            { name: "Tapu Kadastro", faculty: "Gölhisar Uygulamalı Bilimler Yüksekokulu", type: "EA", score: 269.37, rank: 599000 },
            { name: "Gümrük İşletme", faculty: "Bucak Zeliha Tolunay Uygulamalı Teknoloji ve İşletmecilik Yüksekokulu", type: "EA", score: 262.20, rank: 672300 },
            { name: "Siyaset Bilimi ve Kamu Yönetimi", faculty: "İktisadi ve İdari Bilimler Fakültesi", type: "EA", score: 261.28, rank: 682000 },
            { name: "İktisat", faculty: "İktisadi ve İdari Bilimler Fakültesi", type: "EA", score: 260.88, rank: 686400 },
            { name: "İşletme", faculty: "Bucak İşletme Fakültesi", type: "EA", score: 254.18, rank: 759600 },
            { name: "Finans ve Bankacılık", faculty: "İktisadi ve İdari Bilimler Fakültesi", type: "EA", score: 252.96, rank: 773100 },
            { name: "Spor Yöneticiliği", faculty: "Spor Bilimleri Fakültesi", type: "EA", score: 252.72, rank: 775800 },
            { name: "Turizm İşletmeciliği", faculty: "Turizm Fakültesi", type: "EA", score: 246.42, rank: 848400 },
            { name: "Ekonomi ve Finans", faculty: "Bucak İşletme Fakültesi", type: "EA", score: 245.33, rank: 861000 },
            { name: "Antropoloji", faculty: "Fen-Edebiyat Fakültesi", type: "EA", score: 247.87, rank: 858940 },
            { name: "Sosyoloji", faculty: "Fen-Edebiyat Fakültesi", type: "EA", score: 239.30, rank: 973300 },
            { name: "Muhasebe ve Finans Yönetimi", faculty: "Bucak Zeliha Tolunay Uygulamalı Teknoloji ve İşletmecilik Yüksekokulu", type: "EA", score: 232.25, rank: 1072230 },
            { name: "Arkeoloji", faculty: "Fen-Edebiyat Fakültesi", type: "EA", score: 227.66, rank: 1137700 },
            { name: "Felsefe", faculty: "Fen-Edebiyat Fakültesi", type: "EA", score: 226.56, rank: 1153360 },

            // SÖZ Data
            { name: "Özel Eğitim Öğretmenliği", faculty: "Eğitim Fakültesi", type: "SÖZ", score: 397.77, rank: 8923 },
            { name: "Okul Öncesi Öğretmenliği", faculty: "Eğitim Fakültesi", type: "SÖZ", score: 373.17, rank: 25126 },
            { name: "Gastronomi ve Mutfak Sanatları", faculty: "Turizm Fakültesi", type: "SÖZ", score: 334.90, rank: 94003 },
            { name: "Türkçe Öğretmenliği", faculty: "Eğitim Fakültesi", type: "SÖZ", score: 301.43, rank: 36706 },
            { name: "Görsel İletişim Tasarımı", faculty: "Sanat ve Tasarım Fakültesi", type: "SÖZ", score: 284.49, rank: 349507 },
            { name: "Türk Dili ve Edebiyatı", faculty: "Fen-Edebiyat Fakültesi", type: "SÖZ", score: 280.59, rank: 379534 },
            { name: "Tarih", faculty: "Fen-Edebiyat Fakültesi", type: "SÖZ", score: 271.63, rank: 454663 },
            { name: "Coğrafya", faculty: "Fen-Edebiyat Fakültesi", type: "SÖZ", score: 268.39, rank: 483433 },
            { name: "Halkla İlişkiler ve Tanıtım", faculty: "Bucak İşletme Fakültesi", type: "SÖZ", score: 260.84, rank: 553661 },
            { name: "İlahiyat (M.T.O.K.)", faculty: "İlahiyat Fakültesi", type: "SÖZ", score: 253.27, rank: 626813 },
            { name: "İlahiyat", faculty: "İlahiyat Fakültesi", type: "SÖZ", score: 244.21, rank: 715437 },
            { name: "Sosyal Bilgiler Öğretmenliği", faculty: "Eğitim Fakültesi", type: "SÖZ", score: 0, rank: 9999999, note: "Dolmadı" },

            // DİL Data
            { name: "İngilizce Öğretmenliği", faculty: "Eğitim Fakültesi", type: "DİL", score: 408.92, rank: 18229 },
            { name: "İngiliz Dili ve Edebiyatı (İngilizce)", faculty: "Fen-Edebiyat Fakültesi", type: "DİL", score: 381.42, rank: 29309 },
            { name: "İspanyol Dili ve Edebiyatı", faculty: "Fen-Edebiyat Fakültesi", type: "DİL", score: 361.08, rank: 38160 },

            // TYT Data (96 items)
            { name: "Anestezi", faculty: "Burdur SHMYO", type: "TYT", score: 351.25, rank: 389800 },
            { name: "İlk ve Acil Yardım", faculty: "Burdur SHMYO", type: "TYT", score: 349.27, rank: 402300 },
            { name: "İlk ve Acil Yardım", faculty: "Gölhisar SHMYO", type: "TYT", score: 341.03, rank: 459000 },
            { name: "Ağız ve Diş Sağlığı", faculty: "Burdur SHMYO", type: "TYT", score: 338.69, rank: 476400 },
            { name: "Tele-Sağlık Teknikerliği", faculty: "Burdur SHMYO", type: "TYT", score: 334.42, rank: 508900 },
            { name: "Ameliyathane Hizmetleri", faculty: "Burdur SHMYO", type: "TYT", score: 330.70, rank: 539300 },
            { name: "Tıbbi Veri İşleme Teknikerliği", faculty: "Burdur SHMYO", type: "TYT", score: 328.88, rank: 554700 },
            { name: "Tıbbi Dokümantasyon ve Sekreterlik", faculty: "Gölhisar SHMYO", type: "TYT", score: 327.27, rank: 568400 },
            { name: "Sivil Havacılık Kabin Hizmetleri", faculty: "Bucak Hikmet Tolunay MYO", type: "TYT", score: 326.67, rank: 573800 },
            { name: "Fizyoterapi", faculty: "Burdur SHMYO", type: "TYT", score: 325.28, rank: 586200 },
            { name: "Ormancılık ve Orman Ürünleri", faculty: "Gölhisar MYO", type: "TYT", score: 321.03, rank: 625500 },
            { name: "Ortopedik Protez ve Ortez", faculty: "Burdur SHMYO", type: "TYT", score: 317.82, rank: 656200 },
            { name: "Sivil Hava Ulaştırma İşletmeciliği", faculty: "Sosyal Bilimler MYO", type: "TYT", score: 316.96, rank: 664700 },
            { name: "Optisyenlik", faculty: "Gölhisar SHMYO", type: "TYT", score: 314.81, rank: 686400 },
            { name: "Laborant ve Veteriner Sağlık", faculty: "Burdur Gıda Tarım MYO", type: "TYT", score: 314.12, rank: 693400 },
            { name: "Eczane Hizmetleri", faculty: "Gölhisar SHMYO", type: "TYT", score: 311.46, rank: 721400 },
            { name: "Sivil Hava Ulaştırma İşletmeciliği", faculty: "Bucak Hikmet Tolunay MYO", type: "TYT", score: 309.34, rank: 744300 },
            { name: "Bilgisayar Programcılığı", faculty: "Teknik Bilimler MYO", type: "TYT", score: 305.09, rank: 791700 },
            { name: "Sivil Savunma ve İtfaiyecilik", faculty: "Altınyayla MYO", type: "TYT", score: 303.51, rank: 809700 },
            { name: "Evde Hasta Bakımı", faculty: "Gölhisar SHMYO", type: "TYT", score: 303.33, rank: 811800 },
            { name: "Yapay Zeka Operatörlüğü", faculty: "Bucak Emin Gülmez TB MYO", type: "TYT", score: 298.50, rank: 869400 },
            { name: "Hibrid ve Elektrikli Taşıtlar Teknolojisi", faculty: "Teknik Bilimler MYO", type: "TYT", score: 297.66, rank: 879600 },
            { name: "Mahkeme Büro Hizmetleri", faculty: "Ağlasun MYO", type: "TYT", score: 296.16, rank: 898000 },
            { name: "Çocuk Gelişimi", faculty: "Bucak Hikmet Tolunay MYO", type: "TYT", score: 294.20, rank: 922600 },
            { name: "Aşçılık", faculty: "Burdur Gıda Tarım MYO", type: "TYT", score: 294.02, rank: 925000 },
            { name: "Acil Durum ve Afet Yönetimi", faculty: "Altınyayla MYO", type: "TYT", score: 293.50, rank: 931500 },
            { name: "Otonom Sistemler Teknikerliği", faculty: "Teknik Bilimler MYO", type: "TYT", score: 290.41, rank: 970700 },
            { name: "Çocuk Gelişimi", faculty: "Gölhisar SHMYO", type: "TYT", score: 289.22, rank: 986300 },
            { name: "Tapu ve Kadastro", faculty: "Gölhisar MYO", type: "TYT", score: 288.75, rank: 992300 },
            { name: "Yaşlı Bakımı", faculty: "Çavdır MYO", type: "TYT", score: 287.68, rank: 1006000 },
            { name: "İş ve Uğraşı Terapisi", faculty: "Gölhisar SHMYO", type: "TYT", score: 286.91, rank: 1016000 },
            { name: "Biyomedikal Cihaz Teknolojisi", faculty: "Bucak Emin Gülmez TB MYO", type: "TYT", score: 286.62, rank: 1020000 },
            { name: "Büro Yönetimi ve Yönetici Asistanlığı", faculty: "Sosyal Bilimler MYO", type: "TYT", score: 284.89, rank: 1043000 },
            { name: "Sağlık Kurumları İşletmeciliği", faculty: "Sosyal Bilimler MYO", type: "TYT", score: 284.87, rank: 1043000 },
            { name: "Otomotiv Teknolojisi", faculty: "Teknik Bilimler MYO", type: "TYT", score: 282.79, rank: 1071000 },
            { name: "Mekatronik", faculty: "Teknik Bilimler MYO", type: "TYT", score: 281.87, rank: 1084000 },
            { name: "Sağlık Bilgi Sistemleri Teknikerliği", faculty: "Bucak Emin Gülmez TB MYO", type: "TYT", score: 281.33, rank: 1091000 },
            { name: "Aşçılık", faculty: "Yeşilova İsmail Akın MYO", type: "TYT", score: 281.31, rank: 1091000 },
            { name: "Bulut Bilişim Operatörlüğü", faculty: "Teknik Bilimler MYO", type: "TYT", score: 281.17, rank: 1094000 },
            { name: "Muhasebe ve Vergi Uygulamaları", faculty: "Sosyal Bilimler MYO", type: "TYT", score: 280.49, rank: 1103000 },
            { name: "Bilgisayar Programcılığı", faculty: "Gölhisar MYO", type: "TYT", score: 280.11, rank: 1108000 },
            { name: "Bitki Koruma", faculty: "Burdur Gıda Tarım MYO", type: "TYT", score: 279.05, rank: 1123000 },
            { name: "Harita ve Kadastro", faculty: "Gölhisar MYO", type: "TYT", score: 278.31, rank: 1133000 },
            { name: "Makine", faculty: "Teknik Bilimler MYO", type: "TYT", score: 275.85, rank: 1167000 },
            { name: "Kontrol ve Otomasyon Teknolojisi", faculty: "Teknik Bilimler MYO", type: "TYT", score: 275.37, rank: 1174000 },
            { name: "Turist Rehberliği", faculty: "Yeşilova İsmail Akın MYO", type: "TYT", score: 274.96, rank: 1180000 },
            { name: "Elektrik", faculty: "Gölhisar MYO", type: "TYT", score: 274.02, rank: 1193000 },
            { name: "Gıda Teknolojisi", faculty: "Burdur Gıda Tarım MYO", type: "TYT", score: 273.97, rank: 1194000 },
            { name: "Web Tasarımı ve Kodlama", faculty: "Bucak Emin Gülmez TB MYO", type: "TYT", score: 273.03, rank: 1207000 },
            { name: "Bilgisayar Programcılığı", faculty: "Ağlasun MYO", type: "TYT", score: 272.95, rank: 1208000 },
            { name: "Sosyal Hizmetler", faculty: "Çavdır MYO", type: "TYT", score: 272.66, rank: 1213000 },
            { name: "İş Sağlığı ve Güvenliği", faculty: "Çavdır MYO", type: "TYT", score: 271.06, rank: 1236000 },
            { name: "İnşaat Teknolojisi", faculty: "Teknik Bilimler MYO", type: "TYT", score: 270.94, rank: 1238000 },
            { name: "İç Mekan Tasarımı", faculty: "Teknik Bilimler MYO", type: "TYT", score: 268.78, rank: 1268000 },
            { name: "Bankacılık ve Sigortacılık", faculty: "Gölhisar MYO", type: "TYT", score: 266.26, rank: 1305000 },
            { name: "Muhasebe ve Vergi Uygulamaları", faculty: "Bucak Hikmet Tolunay MYO", type: "TYT", score: 265.01, rank: 1323000 },
            { name: "Bilgisayar Destekli Tasarım ve Animasyon", faculty: "Bucak Emin Gülmez TB MYO", type: "TYT", score: 264.43, rank: 1331000 },
            { name: "Bilişim Güvenliği Teknolojisi", faculty: "Ağlasun MYO", type: "TYT", score: 264.43, rank: 1331000 },
            { name: "Yenilenebilir Enerji Teknikerliği", faculty: "Bucak Emin Gülmez TB MYO", type: "TYT", score: 264.35, rank: 1332000 },
            { name: "Bankacılık ve Sigortacılık", faculty: "Ağlasun MYO", type: "TYT", score: 262.80, rank: 1355000 },
            { name: "Çağrı Merkezi Hizmetleri", faculty: "Sosyal Bilimler MYO", type: "TYT", score: 262.70, rank: 1356000 },
            { name: "Grafik Tasarımı", faculty: "Bucak Emin Gülmez TB MYO", type: "TYT", score: 261.33, rank: 1376000 },
            { name: "Dijital Dönüşüm Elektroniği", faculty: "Teknik Bilimler MYO", type: "TYT", score: 259.04, rank: 1410000 },
            { name: "Turizm ve Otel İşletmeciliği", faculty: "Yeşilova İsmail Akın MYO", type: "TYT", score: 258.98, rank: 1411000 },
            { name: "Elektrik Enerjisi Üretim, İletim ve Dağıtımı", faculty: "Bucak Emin Gülmez TB MYO", type: "TYT", score: 258.75, rank: 1414000 },
            { name: "Büro Yönetimi ve Yönetici Asistanlığı", faculty: "Ağlasun MYO", type: "TYT", score: 257.31, rank: 1435000 },
            { name: "Akıllı Altyapılar Teknikerliği", faculty: "Teknik Bilimler MYO", type: "TYT", score: 254.97, rank: 1469000 },
            { name: "Dış Ticaret", faculty: "Bucak Hikmet Tolunay MYO", type: "TYT", score: 254.82, rank: 1472000 },
            { name: "Maliye", faculty: "Gölhisar MYO", type: "TYT", score: 254.79, rank: 1472000 },
            { name: "Sosyal Güvenlik", faculty: "Gölhisar MYO", type: "TYT", score: 254.49, rank: 1476000 },
            { name: "Moda Tasarımı", faculty: "Bucak Emin Gülmez TB MYO", type: "TYT", score: 252.80, rank: 1502000 },
            { name: "Turizm ve Seyahat Hizmetleri", faculty: "Ağlasun MYO", type: "TYT", score: 251.79, rank: 1516000 },
            { name: "İşletme Yönetimi", faculty: "Bucak Hikmet Tolunay MYO", type: "TYT", score: 251.64, rank: 1518000 },
            { name: "İnternet ve Ağ Teknolojileri", faculty: "Gölhisar MYO", type: "TYT", score: 250.12, rank: 1540000 },
            { name: "Lojistik", faculty: "Bucak Hikmet Tolunay MYO", type: "TYT", score: 250.01, rank: 1542000 },
            { name: "Doğalgaz ve Tesisatı Teknolojisi", faculty: "Teknik Bilimler MYO", type: "TYT", score: 249.02, rank: 1557000 },
            { name: "Elektrikli Cihaz Teknolojisi", faculty: "Teknik Bilimler MYO", type: "TYT", score: 248.28, rank: 1567000 },
            { name: "Maliye", faculty: "Ağlasun MYO", type: "TYT", score: 248.00, rank: 1571000 },
            { name: "İnsan Kaynakları Yönetimi", faculty: "Tefenni MYO", type: "TYT", score: 247.08, rank: 1585000 },
            { name: "Halkla İlişkiler ve Tanıtım", faculty: "Bucak Hikmet Tolunay MYO", type: "TYT", score: 245.86, rank: 1603000 },
            { name: "Süt ve Besi Hayvancılığı", faculty: "Burdur Gıda Tarım MYO", type: "TYT", score: 245.48, rank: 1609000 },
            { name: "Mimari Restorasyon", faculty: "Gölhisar MYO", type: "TYT", score: 244.74, rank: 1620000 },
            { name: "Bahçe Tarımı", faculty: "Burdur Gıda Tarım MYO", type: "TYT", score: 243.97, rank: 1631000 },
            { name: "Basım ve Yayım Teknolojileri", faculty: "Sosyal Bilimler MYO", type: "TYT", score: 243.70, rank: 1635000 },
            { name: "Sanal ve Artırılmış Gerçeklik", faculty: "Bucak Emin Gülmez TB MYO", type: "TYT", score: 243.22, rank: 1642000 },
            { name: "Süt ve Ürünleri Teknolojisi", faculty: "Burdur Gıda Tarım MYO", type: "TYT", score: 236.80, rank: 1736000 },
            { name: "Posta Hizmetleri", faculty: "Ağlasun MYO", type: "TYT", score: 236.35, rank: 1743000 },
            { name: "Akıllı Sera Teknolojileri", faculty: "Burdur Gıda Tarım MYO", type: "TYT", score: 236.17, rank: 1746000 },
            { name: "Çevresel Ölçüm ve İzleme Sistemleri Teknikerliği", faculty: "Gölhisar MYO", type: "TYT", score: 233.95, rank: 1778000 },
            { name: "Coğrafi Bilgi Sistemleri", faculty: "Gölhisar MYO", type: "TYT", score: 233.39, rank: 1786000 },
            { name: "Dijital Tarım Teknolojileri", faculty: "Burdur Gıda Tarım MYO", type: "TYT", score: 233.34, rank: 1786000 },
            { name: "Ofis Teknolojileri ve Veri Yönetimi", faculty: "Tefenni MYO", type: "TYT", score: 232.44, rank: 1799000 },
            { name: "Kümes Hayvanları Yetiştiriciliği", faculty: "Burdur Gıda Tarım MYO", type: "TYT", score: 228.14, rank: 1861000 },
            { name: "İmalat Yürütme Sistemleri Operatörlüğü", faculty: "Teknik Bilimler MYO", type: "TYT", score: 224.51, rank: 1911000 },
            { name: "Fizyoterapi (KKTC)", faculty: "Burdur SHMYO", type: "TYT", score: 192.65, rank: 9999999, note: "Dolmadı" },
            { name: "Web Tasarımı ve Kodlama (KKTC)", faculty: "Bucak Emin Gülmez TB MYO", type: "TYT", score: 0, rank: 9999999, note: "Dolmadı" },
        ];

        // Format numbers with Turkish locale
        const formatNumber = (num) => {
            return new Intl.NumberFormat('tr-TR').format(num);
        };

        const scoreTypeFilter = document.getElementById('scoreTypeFilter');
        const userRankInput = document.getElementById('userRank');
        const searchInput = document.getElementById('searchInput');
        const tableBody = document.getElementById('tableBody');
        const resultCount = document.getElementById('resultCount');
        const emptyState = document.getElementById('emptyState');

        function calculateChance(deptRank, deptType, userRank) {
            if (!userRank) return null;
            if (deptRank === 9999999) return "Yüksek"; // Dolmadı ise şans yüksek

            // Logic:
            // If UserRank <= DeptRank * 1.05 -> High (Green)
            // If UserRank <= DeptRank * 1.20 -> Normal (Yellow)
            // If UserRank > DeptRank * 1.20 -> Low (Red)

            if (userRank <= deptRank) return "Yüksek";
            if (userRank <= deptRank * 1.15) return "Normal";
            return "Düşük";
        }

        function getChanceBadge(status) {
            if (!status) return '<span class="text-gray-300">-</span>';
            if (status === "Yüksek") return '<span class="inline-flex items-center px-2.5 py-1 rounded-md text-xs font-semibold bg-green-100 text-green-700 border border-green-200"><i class="fa-solid fa-check mr-1.5"></i> Yüksek</span>';
            if (status === "Normal") return '<span class="inline-flex items-center px-2.5 py-1 rounded-md text-xs font-semibold bg-yellow-100 text-yellow-700 border border-yellow-200"><i class="fa-solid fa-minus mr-1.5"></i> Normal</span>';
            return '<span class="inline-flex items-center px-2.5 py-1 rounded-md text-xs font-semibold bg-red-100 text-red-700 border border-red-200"><i class="fa-solid fa-xmark mr-1.5"></i> Düşük</span>';
        }

        function getScoreTypeColor(type) {
            switch(type) {
                case 'SAY': return 'bg-blue-100 text-blue-700 border border-blue-200';
                case 'EA': return 'bg-orange-100 text-orange-700 border border-orange-200';
                case 'TYT': return 'bg-purple-100 text-purple-700 border border-purple-200';
                case 'SÖZ': return 'bg-pink-100 text-pink-700 border border-pink-200';
                case 'DİL': return 'bg-rose-100 text-rose-700 border border-rose-200';
                default: return 'bg-gray-100 text-gray-700 border border-gray-200';
            }
        }

        function renderTable() {
            const selectedType = scoreTypeFilter.value;
            const search = searchInput.value.toLowerCase();
            const userRank = parseInt(userRankInput.value);

            // Filter Data
            const filteredData = universityData.filter(item => {
                const matchesType = selectedType === 'Tümü' || item.type === selectedType;
                const matchesSearch = item.name.toLowerCase().includes(search) || item.faculty.toLowerCase().includes(search);
                return matchesType && matchesSearch;
            });

            // Sort logic: Default sort by Rank (ascending) to show best departments first (or easier ones depending on perspective, usually Rank asc means harder to get in first)
            // Actually, for preferences, usually people look at scores. Let's keep it sorted by Rank ASC (Top departments first)
            filteredData.sort((a, b) => {
                 if (a.rank === 9999999) return 1; // Put "Dolmadı" at the end
                 if (b.rank === 9999999) return -1;
                 return a.rank - b.rank;
            });

            // Update Count
            resultCount.textContent = filteredData.length;

            // Clear Table
            tableBody.innerHTML = '';

            if (filteredData.length === 0) {
                emptyState.classList.remove('hidden');
                return;
            } else {
                emptyState.classList.add('hidden');
            }

            // Populate Table
            filteredData.forEach(item => {
                const row = document.createElement('tr');
                row.className = "hover:bg-blue-50/60 transition border-b border-gray-100 last:border-0";
                
                const rankDisplay = item.note === "Dolmadı" ? "<span class='text-orange-500 italic font-medium'><i class='fa-regular fa-circle-xmark mr-1'></i>Dolmadı</span>" : formatNumber(item.rank);
                const scoreDisplay = item.score === 0 ? "-" : item.score.toFixed(2);
                
                const chance = calculateChance(item.rank, item.type, userRank);
                const chanceBadge = getChanceBadge(chance);
                const typeClass = getScoreTypeColor(item.type);

                // Highlight row if high chance (subtle)
                if (chance === "Yüksek") {
                    row.classList.add("bg-green-50/30");
                }

                row.innerHTML = `
                    <td class="p-4">
                        <div class="font-bold text-gray-900">${item.name}</div>
                        <div class="text-xs text-gray-500 mt-0.5"><i class="fa-regular fa-building mr-1"></i>${item.faculty}</div>
                    </td>
                    <td class="p-4">
                        <span class="inline-block px-2.5 py-0.5 text-xs font-bold rounded-full ${typeClass}">
                            ${item.type}
                        </span>
                    </td>
                    <td class="p-4 font-mono text-gray-600 font-medium">${scoreDisplay}</td>
                    <td class="p-4 font-mono font-bold text-gray-800">${rankDisplay}</td>
                    <td class="p-4 text-center">${chanceBadge}</td>
                `;
                tableBody.appendChild(row);
            });
        }

        function resetFilters() {
            scoreTypeFilter.value = "Tümü";
            userRankInput.value = "";
            searchInput.value = "";
            renderTable();
        }

        // Event Listeners
        scoreTypeFilter.addEventListener('change', renderTable);
        userRankInput.addEventListener('input', renderTable);
        searchInput.addEventListener('input', renderTable);

        // Initial Render
        renderTable();

    </script>
</body>
</html>